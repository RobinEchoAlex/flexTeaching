---
title: "Check your assignments"
output: 
  flexdashboard::flex_dashboard:
    theme: yeti
    orientation: row
runtime: shiny
---

```{r child="children/setup.Rmd"}
```

```{r}
library(rclipboard)
shiny::includeScript(path = system.file("lib/clipboard.min.js", package = "rclipboard"))

```


Column {.sidebar}
-----------------------------------------------------------------------

```{r child="children/sidebar_main.Rmd"}
```

```{r child="children/sidebar_solve.Rmd"}
```

Row {data-height=60}
------------------------------------

```{r}
uiOutput("dataDownloadBox", style="height:60px;")
         
output$dataDownloadBox <- renderUI(
  {
    downloadButton("dataDownload", "Download data")
  }
)

output$dataDownload <- downloadHandler(
  filename = function() {
      paste("test.csv", sep = "")
    },
    content = function(file) {
      write.csv(sleep, file, row.names = FALSE)
    }
  )
```

Row 
-------------------------------------
    
### Assignment

```{r}
renderUI({
  
  if(is.null(input$assignment)) return()
  
  salt = all_assignment_data[[input$assignment]]$`data-salt`
  seed0 = input$seed
  id = input$id
  
  seed = flexTeaching:::assignmentSeed(id, seed0, salt)
  
  x = R.utils::withSeed({rnorm(1)}, seed)
  
  htmltools::tags$h3(x, style="color: red;")
})
```


<script>
$(document).ready(function () {
  $("#admin_panel").hide();
  $("#show_admin").on("click", function() {
    $("#admin_panel").toggle();
  });
});
</script>

