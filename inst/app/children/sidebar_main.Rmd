
```{r}
shinyjs::useShinyjs(rmd=TRUE)

uiOutput("assignmentbox")
uiOutput("idbox")
uiOutput("formatbox")

```

```{r}

session$allowReconnect(TRUE)

output$idbox <- renderUI({
  query = getQueryString()
  seed = if ('id' %in% names(query)) query[['id']] else ""
  el = textInput("id", label = "ID:", width = "150px", value = seed, placeholder = "Your ID")
  if('id_disable' %in% names(query)){
    return(shinyjs::disabled(el))
  }else{
    return(el)
  }
})

output$assignmentbox <- renderUI({
  query = getQueryString()
  assignment = if ('assignment' %in% names(query)) query[['assignment']] else NULL
  el = selectInput("assignment", label = "Assignment:", width = "150px", choices = assignments, selected = assignment)
  if('assignment_disable' %in% names(query)){
    return(shinyjs::disabled(el))
  }else{
    return(el)
  }
})

output$formatbox <- renderUI({
  query = getQueryString()
  format = if ('format' %in% names(query)) query[['format']] else NULL
  el = selectInput("format", label = "Data format:", choices = names(flexTeaching:::formats), selected = format)
  if('format_disable' %in% names(query)){
    return(shinyjs::disabled(el))
  }else{
    return(el)
  }
})


```
